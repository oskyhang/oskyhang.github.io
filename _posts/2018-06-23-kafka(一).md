---
layout: post
title:  "kafka(一)"
date:   2018-06-23 
categories: hanggle update
---



## kafka架构
* kafka 四个部分
    * Producer
    * Broker
    * Consumer
    * zookeeper（准确意义上说不是kafka的一部分，不过在一般架构中都会用到）


![image](https://raw.githubusercontent.com/hanggle/hanggle.github.io/master/assets/images/2018/06/1529744367.png)

1.Producer

0.8之前Producer必须连接ZooKeeper才能找到Broker，0.8之后Producer不必连接ZooKeeper，只需要在实例化Producer时指定一个或多个Broker，只要Producer连接成功一个Broker，Producer可以通过这一个Broker找到整个集群。

2.Consumer

kafka的Consumer采用pull的方式获取Broker中的消息。这样做的好处是避免由于消息过多，Consumer来不及处理造成的消息丢失或延时,根据Consumer的能力来获取消息，Broker不用知道有哪些Consumer。

